# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã 401 Unauthorized

**–ü—Ä–æ–±–ª–µ–º–∞:** Backend API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 –¥–∞–∂–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º `x-admin-api-key: A246123b`

---

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ß—Ç–æ –≤–∏–¥–Ω–æ –≤ –ª–æ–≥–∞—Ö:
```json
{
  "status": 401,
  "error": { "error": "Unauthorized", "message": "Authentication required" },
  "hasAdminSession": true,
  "hasAdminApiKey": true,
  "contestId": "contest-20260117"
}
```

### –ü—Ä–æ–±–ª–µ–º—ã:
1. ‚úÖ Frontend –∏–º–µ–µ—Ç `ADMIN_API_KEY` (ADM –Ω–∞ Vercel)
2. ‚úÖ –ê–¥–º–∏–Ω—Å–∫–∞—è —Å–µ—Å—Å–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
3. ‚ùå Backend API –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401
4. ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–π ID –∫–æ–Ω–∫—É—Ä—Å–∞ `contest-20260117`

---

## üîç –ü—Ä–∏—á–∏–Ω–∞

Backend API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `fastify.adminApiKey`, –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ `process.env.ADMIN_API_KEY` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞.

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `ADMIN_API_KEY` –≤ `.env` —Ñ–∞–π–ª–µ, —Å–µ—Ä–≤–∏—Å –Ω—É–∂–Ω–æ **–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å**, —á—Ç–æ–±—ã –æ–Ω –∑–∞–≥—Ä—É–∑–∏–ª –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –Ω–∞ Backend

```bash
ssh root@72.56.93.135
cat /opt/outlivion-api/.env | grep ADMIN_API_KEY
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
ADMIN_API_KEY=A246123b
```

### –®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Backend API —Å–µ—Ä–≤–∏—Å

```bash
systemctl restart outlivion-api
systemctl status outlivion-api
```

**–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env` —Ñ–∞–π–ª–∞ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å!

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
systemctl status outlivion-api
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ `active (running)`
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
journalctl -u outlivion-api -n 20
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –Ω–∞–ø—Ä—è–º—É—é

```bash
curl "https://api.outlivion.space/v1/admin/contest/participants?contest_id=550e8400-e29b-41d4-a716-446655440000" \
  -H "x-admin-api-key: A246123b"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ –±–∏–ª–µ—Ç–æ–≤ –∏–ª–∏ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `{"tickets":[]}`

---

## ‚ö†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ä—ã–π ID –∫–æ–Ω–∫—É—Ä—Å–∞

–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ `contestId: 'contest-20260117'` - —ç—Ç–æ —Å—Ç–∞—Ä—ã–π –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω–∫—É—Ä—Å.

**–ü—Ä–∏—á–∏–Ω–∞:** –í–æ–∑–º–æ–∂–Ω–æ, Frontend –∫–µ—à–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—ã–π –æ—Ç–≤–µ—Ç –∏–ª–∏ Backend API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–π –∫–æ–Ω–∫—É—Ä—Å.

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Backend API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–Ω–∫—É—Ä—Å:
   ```bash
   curl "https://api.outlivion.space/v1/contest/active" \
     -H "x-admin-api-key: A246123b"
   ```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "contest": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "title": "üéâ –†–æ–∑—ã–≥—Ä—ã—à Outlivion ‚Äî 10 –ø—Ä–∏–∑–æ–≤!",
    ...
  }
}
```

---

## üéØ –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `ADMIN_API_KEY` –Ω–∞ Backend —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Backend API —Å–µ—Ä–≤–∏—Å
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –Ω–∞–ø—Ä—è–º—É—é —Å curl
- [ ] –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å–Ω–æ–≤–∞

---

**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ Backend API —Å–µ—Ä–≤–∏—Å–∞
