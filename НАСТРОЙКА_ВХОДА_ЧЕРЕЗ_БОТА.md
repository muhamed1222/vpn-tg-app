# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞

## üìã –û–±–∑–æ—Ä

–°–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ Telegram WebApp. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å–∞–π—Ç–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞ Telegram –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`initData`), –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ API –±–æ—Ç–∞.

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç WebApp –≤ Telegram**
   - Telegram –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∞–π—Ç –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - Telegram WebApp SDK –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
   - Telegram –ø–µ—Ä–µ–¥–∞–µ—Ç `initData` —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–µ**
   - –°–∞–π—Ç –ø–æ–ª—É—á–∞–µ—Ç `initData` –∏–∑ Telegram WebApp
   - `initData` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization` –Ω–∞ API –±–æ—Ç–∞
   - –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç `initData`
   - –ë–æ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

3. **–†–∞–±–æ—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
   - –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–¥–ø–∏—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API
   - –í—Å–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `initData` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–∞–π—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (`/Users/kelemetovmuhamed/Documents/vpnwebsite/.env.local`):

**–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
```env
# URL API –±–æ—Ç–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)
VITE_API_URL=http://localhost:3000
```

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:**
```env
# URL API –±–æ—Ç–∞ (–ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä)
VITE_API_URL=https://vpn.outlivion.space
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env.local` –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!

---

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

#### 2.1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –±–æ—Ç–∞

–í —Ñ–∞–π–ª–µ `.env` –±–æ—Ç–∞ (`/path/to/vpn_bot/.env`) –¥–æ–±–∞–≤—å—Ç–µ:

```env
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞

# –†–µ–∂–∏–º polling –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
TELEGRAM_USE_POLLING=1

# –ü–æ—Ä—Ç API –±–æ—Ç–∞
PORT=3000

# CORS - —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,https://web.telegram.org,https://–≤–∞—à-–¥–æ–º–µ–Ω.com
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞:** –í `ALLOWED_ORIGINS` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω —Å–∞–π—Ç–∞!

#### 2.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –≤ –∫–æ–¥–µ –±–æ—Ç–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `server.ts` –±–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω CORS:

```typescript
import cors from 'cors';

const allowedOrigins = process.env.ALLOWED_ORIGINS?.split(',') || [];
app.use(cors({
  origin: (origin, callback) => {
    if (!origin || allowedOrigins.includes(origin)) {
      callback(null, true);
    } else {
      callback(new Error('Not allowed by CORS'));
    }
  },
  credentials: true
}));
```

#### 2.3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ initData

–í –±–æ—Ç–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `initData`:

```typescript
// –ü—Ä–∏–º–µ—Ä middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ initData
app.use('/api/*', async (req, res, next) => {
  const initData = req.headers.authorization;
  
  if (!initData) {
    return res.status(401).json({ error: 'Unauthorized' });
  }
  
  // –í–∞–ª–∏–¥–∞—Ü–∏—è initData (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏ Telegram)
  const isValid = await validateTelegramWebAppData(initData, process.env.BOT_TOKEN);
  
  if (!isValid) {
    return res.status(401).json({ error: 'Invalid initData' });
  }
  
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ initData
  const user = parseInitData(initData);
  req.user = user; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∑–∞–ø—Ä–æ—Å–µ
  
  next();
});
```

---

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WebApp URL –≤ Telegram

#### 3.1. –ß–µ—Ä–µ–∑ @BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/mybots`
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
4. –í—ã–±–µ—Ä–∏—Ç–µ `Bot Settings` ‚Üí `Menu Button` –∏–ª–∏ `Web App`
5. –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞:
   - –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: `http://localhost:5173` (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é, –Ω—É–∂–µ–Ω —Ç—É–Ω–Ω–µ–ª—å)
   - –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞: `https://–≤–∞—à-–¥–æ–º–µ–Ω.com`

#### 3.2. –ß–µ—Ä–µ–∑ Bot API (–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ)

```typescript
// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WebApp URL —á–µ—Ä–µ–∑ Bot API
await bot.telegram.setChatMenuButton({
  menu_button: {
    type: 'web_app',
    text: '–û—Ç–∫—Ä—ã—Ç—å',
    web_app: {
      url: 'https://–≤–∞—à-–¥–æ–º–µ–Ω.com'
    }
  }
});
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** 
- WebApp URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ **HTTPS** (–∫—Ä–æ–º–µ localhost)
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å (ngrok, Cloudflare Tunnel –∏ —Ç.–¥.)

---

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—É–Ω–Ω–µ–ª—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å WebApp –ª–æ–∫–∞–ª—å–Ω–æ:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: ngrok

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok
brew install ngrok  # –¥–ª—è macOS

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å
ngrok http 5173

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π HTTPS URL –≤ BotFather
# –ù–∞–ø—Ä–∏–º–µ—Ä: https://abc123.ngrok.io
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: Cloudflare Tunnel

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ cloudflared
brew install cloudflared

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å
cloudflared tunnel --url http://localhost:5173

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL –≤ BotFather
```

---

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   cd /path/to/vpn_bot
   npm run dev
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∞–π—Ç:**
   ```bash
   cd /Users/kelemetovmuhamed/Documents/vpnwebsite
   npm run dev
   ```

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram:**
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É WebApp –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –±–æ—Ç–∞

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:**
   - –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Å–∞–π—Ç –≤–Ω—É—Ç—Ä–∏ Telegram
   - –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å Telegram"
   - –î–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
   - –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞—Å—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–∫–∫–∞—É–Ω—Ç–∞

---

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Telegram WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω:**
   ```javascript
   // –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –æ–±—ä–µ–∫—Ç WebApp
   window.Telegram?.WebApp
   ```

2. **initData –¥–æ—Å—Ç—É–ø–µ–Ω:**
   ```javascript
   // –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–æ–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏
   window.Telegram?.WebApp?.initData
   ```

3. **API –∑–∞–ø—Ä–æ—Å—ã:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network –≤–∫–ª–∞–¥–∫—É –≤ DevTools
   - –ó–∞–ø—Ä–æ—Å—ã –∫ `/api/me` –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization` —Å `initData`
   - –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

#### –û—à–∏–±–∫–∞: "Telegram WebApp –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"

**–ü—Ä–∏—á–∏–Ω–∞:** –°–∞–π—Ç –æ—Ç–∫—Ä—ã—Ç –Ω–µ —á–µ—Ä–µ–∑ Telegram, –∞ –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ.

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É WebApp –≤ Telegram –±–æ—Ç–µ.

#### –û—à–∏–±–∫–∞: CORS error

**–ü—Ä–∏—á–∏–Ω–∞:** –î–æ–º–µ–Ω —Å–∞–π—Ç–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `ALLOWED_ORIGINS` –±–æ—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:** 
1. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω –≤ `ALLOWED_ORIGINS` –≤ `.env` –±–æ—Ç–∞
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

#### –û—à–∏–±–∫–∞: 401 Unauthorized

**–ü—Ä–∏—á–∏–Ω–∞:** `initData` –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –∏–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `initData` –¥–æ—Å—Ç—É–ø–µ–Ω –≤ `window.Telegram.WebApp.initData`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `initData` –≤ –±–æ—Ç–µ
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### –û—à–∏–±–∫–∞: API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `VITE_API_URL` –∏–ª–∏ –±–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env.local` —Ñ–∞–π–ª
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API: –æ—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/api/me` –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –Ω–æ –Ω–µ 404)

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ initData

`initData` –æ—Ç Telegram —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ URL-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

```
user=%7B%22id%22%3A123456789%2C%22first_name%22%3A%22John%22%7D&auth_date=1234567890&hash=abc123...
```

–ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å:
- `user` - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (id, first_name, username –∏ —Ç.–¥.)
- `auth_date` - –≤—Ä–µ–º—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `hash` - –ø–æ–¥–ø–∏—Å—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –í—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ `initData` –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–∫–µ–Ω –±–æ—Ç–∞!

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è initData:**
   - –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–¥–ø–∏—Å—å `initData` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
   - –ù–µ –¥–æ–≤–µ—Ä—è–π—Ç–µ –¥–∞–Ω–Ω—ã–º –∏–∑ `initDataUnsafe` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏

2. **HTTPS:**
   - –í –ø—Ä–æ–¥–∞–∫—à–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ HTTPS
   - Telegram —Ç—Ä–µ–±—É–µ—Ç HTTPS –¥–ª—è WebApp

3. **CORS:**
   - –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ `ALLOWED_ORIGINS` —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏
   - –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `*` –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ

4. **–¢–æ–∫–µ–Ω—ã:**
   - –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `.env.local` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º `VITE_API_URL`
- [ ] –ë–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –±–æ—Ç–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏
- [ ] WebApp URL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ BotFather
- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL
- [ ] –°–∞–π—Ç –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞)
- [ ] initData –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram WebApp –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://core.telegram.org/bots/webapps)
- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Vite Environment Variables](https://vitejs.dev/guide/env-and-mode.html)

