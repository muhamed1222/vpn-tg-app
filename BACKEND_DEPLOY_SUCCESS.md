# ‚úÖ Backend API —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω

**–î–∞—Ç–∞:** 17 —è–Ω–≤–∞—Ä—è 2026, 18:50 UTC  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–û–ë–ù–û–í–õ–ï–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

---

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –û—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
- ‚úÖ `src/routes/v1/admin.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ `src/server.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ `.env` —Ñ–∞–π–ª—É, —É–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã

### 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–∏—Å:
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω: `active (running)`
- ‚úÖ PID: 699691

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç: `"hasAdminApiKey":true,"adminApiKeyLength":8,"adminApiKeyPreview":"A24..."`
- ‚úÖ `adminApiKey` —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

---

## üîç –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç:
- –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- `adminApiKey` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ `.env` —Ñ–∞–π–ª–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –ó–∞–ø—Ä–æ—Å—ã –∫ `/v1/admin/contest/participants` –ø—Ä–∏—Ö–æ–¥—è—Ç, –Ω–æ –æ—Ç–≤–µ—Ç –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–∞—Ç—å
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ `verifyAdmin` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ 401 –æ—à–∏–±–∫–∏

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - –û—Ç–∫—Ä—ã—Ç—å: `https://my.outlivion.space/admin/contest`
   - –í–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å: `A246123b`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ª–∏ –¥–∞–Ω–Ω—ã–µ

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ:**
   ```bash
   ssh root@72.56.93.135
   journalctl -u outlivion-api -f
   ```
   –ó–∞—Ç–µ–º –æ—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ `verifyAdmin`:**
   - –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏ `[Admin] verifyAdmin check`
   - –î–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å `hasUser`, `isAdmin`, `tgId`

---

## üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### `admin.ts`:
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–æ—É—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `verifyAdmin` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### `server.ts`:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ `.env` —Ñ–∞–π–ª—É (—è–≤–Ω—ã–π –ø—É—Ç—å —á–µ—Ä–µ–∑ `process.cwd()`)
- –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã `fastify.decorate`

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –§–∞–π–ª—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã, —Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ 401 –æ—à–∏–±–∫–∏.
