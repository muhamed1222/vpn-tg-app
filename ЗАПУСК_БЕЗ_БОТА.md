# Запуск без бота (режим разработки)

## Что уже работает

Приложение **уже настроено** для работы без бота. При запуске в обычном браузере (не в Telegram) используется режим разработки с моковыми данными.

## Быстрый старт

### Шаг 1. Убедитесь, что зависимости установлены

```bash
cd /Users/kelemetovmuhamed/Documents/vpnwebsite
npm install
```

### Шаг 2. Запустите сайт

```bash
npm run dev
```

Сайт запустится на `http://localhost:5173`

### Шаг 3. Откройте в браузере

Откройте `http://localhost:5173` в любом браузере (Chrome, Safari, Firefox и т.д.)

### Шаг 4. Войдите в систему

1. На странице входа нажмите кнопку **"Продолжить с Telegram"**
2. Автоматически создастся моковый пользователь:
   - **Имя:** Muhamed Chalemat
   - **Аватар:** Будет загружен из URL
   - **Подписка:** Активна до 24.12.2025

3. Вы попадете на страницу аккаунта

## Что происходит под капотом

### Автоматическое определение режима

Приложение проверяет, запущено ли оно в Telegram WebApp:

```typescript
// Если не в Telegram - используется режим разработки
if (!isTelegramWebApp()) {
  // Используется localStorage с моковыми данными
}
```

### Моковые данные

При нажатии на "Продолжить с Telegram" создается:

- **Пользователь:**
  - ID: `usr_1`
  - Telegram ID: `12345678`
  - Username: `Muhamed Chalemat`
  - Avatar: загружается из URL

- **Подписка:**
  - Статус: `ACTIVE`
  - Активна до: `24.12.2025`
  - Тариф: `plan_365` (12 месяцев)

### Сохранение в localStorage

Данные пользователя сохраняются в `localStorage`, поэтому после перезагрузки страницы вы останетесь авторизованными.

## Сброс данных

Чтобы выйти и начать заново:

1. Откройте консоль браузера (F12)
2. Выполните:
   ```javascript
   localStorage.removeItem('user');
   location.reload();
   ```

Или просто используйте кнопку "Выйти" в интерфейсе (если она есть).

## Тестирование функционала

В режиме разработки вы можете протестировать:

- [x] Авторизацию
- [x] Отображение данных пользователя
- [x] Страницу аккаунта
- [x] Биллинг
- [x] Страницу оплаты
- [x] Все UI компоненты

### Что не работает без бота

- [ ] Реальные данные из API бота
- [ ] Реальные VPN ключи
- [ ] Реальная оплата через Telegram
- [ ] Интеграция с Telegram WebApp

## Решение проблем

### Проблема: Кнопка "Продолжить с Telegram" не работает

**Проверьте консоль браузера (F12):**
- Должны быть логи: `[Login] Режим разработки - создание мокового пользователя`
- Если ошибки - скопируйте их

**Решение:**
- Убедитесь, что сайт открыт в обычном браузере (не в Telegram)
- Очистите кеш браузера: `Cmd+Shift+R` (Mac) или `Ctrl+Shift+R` (Windows/Linux)

### Проблема: После авторизации страница не загружается

**Проверьте:**
- Откройте консоль (F12) → вкладка Console
- Проверьте наличие ошибок

**Решение:**
- Очистите localStorage: `localStorage.clear()`
- Перезагрузите страницу

### Проблема: Не отображается VPN ключ

Это нормально. В режиме разработки используется моковый ключ:
- Если бот не запущен - ключ будет моковым
- Если бот запущен - попытается загрузить из API, но без реального `initData` может не работать

## Советы

1. **Используйте DevTools:**
   - Откройте консоль (F12) для отладки
   - Проверяйте вкладку Network для запросов
   - Используйте React DevTools для отладки компонентов

2. **Очистка данных:**
   ```javascript
   // В консоли браузера
   localStorage.clear();
   sessionStorage.clear();
   location.reload();
   ```

3. **Проверка состояния:**
   ```javascript
   // Проверить сохраненного пользователя
   console.log(JSON.parse(localStorage.getItem('user')));
   ```

## Чек-лист

Перед началом работы убедитесь:

- [ ] Зависимости установлены: `npm install`
- [ ] Сайт запущен: `npm run dev`
- [ ] Сайт открыт в браузере: `http://localhost:5173`
- [ ] Сайт открыт **НЕ в Telegram** (в обычном браузере)
- [ ] Консоль открыта для отладки (F12)

## Готово

Теперь вы можете разрабатывать и тестировать интерфейс без необходимости запускать бота. Когда будете готовы подключить реального бота, см. `НАСТРОЙКА_ВХОДА_ЧЕРЕЗ_БОТА.md`.
