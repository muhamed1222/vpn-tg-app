# Отладка входа

## Проблема: Кнопка "Продолжить с Telegram" не работает

### Шаг 1. Откройте консоль браузера

Нажмите `F12` или `Cmd+Option+I` (Mac) / `Ctrl+Shift+I` (Windows/Linux)

Перейдите на вкладку **Console**

### Шаг 2. Проверьте, что происходит при клике

1. Нажмите на кнопку "Продолжить с Telegram"
2. Посмотрите, какие сообщения появляются в консоли

Вы должны увидеть:
```text
[Home] onClick вызван
[Home] Кнопка нажата
[Home] Вызов функции login...
[Login] Начало авторизации
[Login] isTelegramWebApp: false
[Login] Режим разработки - создание мокового пользователя
[Login] Установка мокового пользователя: {...}
[Login] Моковая авторизация завершена
[Home] Login завершен, выполняется редирект...
```

### Шаг 3. Если ничего не происходит

Выполните в консоли браузера:

```javascript
// Проверка, что обработчик установлен
const button = document.querySelector('button');
console.log('Кнопка найдена:', button);
console.log('Обработчики событий:', button?.onclick);

// Ручной вызов авторизации
localStorage.clear();
window.location.reload();
```

### Шаг 4. Ручной вход (если ничего не помогает)

Выполните в консоли браузера:

```javascript
// Создаем мокового пользователя вручную
const mockUser = {
  id: 'usr_1',
  telegramId: 12345678,
  username: 'Muhamed Chalemat',
  avatar: 'https://cdn.visitors.now/users/e2ccd994-4e15-425d-81b4-ad614a9d46dc/avatars/vVBAtzhu4sxfKkQ5_Y7_3.png'
};

localStorage.setItem('user', JSON.stringify(mockUser));
window.location.href = '/#/account';
```

### Шаг 5. Проверка состояния

```javascript
// Проверить, есть ли пользователь
console.log('Пользователь в localStorage:', localStorage.getItem('user'));

// Проверить, загружен ли Telegram WebApp SDK
console.log('Telegram.WebApp:', window.Telegram?.WebApp);

// Проверить, что это не Telegram
console.log('Platform:', window.Telegram?.WebApp?.platform);
```

### Шаг 6. Очистка и перезапуск

```javascript
// Полная очистка
localStorage.clear();
sessionStorage.clear();
location.reload();
```

## Типичные проблемы

### Проблема: Кнопка не реагирует на клик

**Причина:** Возможно, другой элемент перекрывает кнопку

**Решение:**
1. Откройте DevTools (F12)
2. Используйте инструмент выбора элемента (Ctrl+Shift+C)
3. Наведите на кнопку и проверьте, что она действительно под курсором

### Проблема: В консоли ошибка JavaScript

**Решение:**
- Скопируйте полный текст ошибки
- Проверьте, что сайт открыт по адресу `http://localhost:5173`
- Попробуйте очистить кеш: `Cmd+Shift+R` (Mac) или `Ctrl+Shift+R` (Windows)

### Проблема: Редирект не происходит

**Решение:**
1. Проверьте URL в адресной строке
2. Попробуйте вручную перейти на `http://localhost:5173/#/account`
3. Если открывается - проблема только в редиректе, пользователь создается

## Быстрое решение

Если ничего не помогает, выполните в консоли:

```javascript
// Создать пользователя и перейти на страницу аккаунта
localStorage.setItem('user', JSON.stringify({
  id: 'usr_1',
  telegramId: 12345678,
  username: 'Muhamed Chalemat',
  avatar: 'https://cdn.visitors.now/users/e2ccd994-4e15-425d-81b4-ad614a9d46dc/avatars/vVBAtzhu4sxfKkQ5_Y7_3.png'
}));
location.hash = '/account';
location.reload();
```

Это создаст мокового пользователя и переведет вас на страницу аккаунта.
